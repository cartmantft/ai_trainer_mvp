markdown_content = """
# 🏋️ 스쿼트 판별 조건 정리

StanLab | 운동 자세 분석 모델 조건 구성 요약  
(2025-03 기준)

---

## ✅ 현재 적용 중인 핵심 조건

| 조건명 | 기준 설명 | 적용 위치 |
|--------|------------|------------|
| **Angle 기반 판정** | 무릎 각도 (`엉덩이-무릎-발목`)<br>- `down`: angle < 130<br>- `up`: angle > 150 | 전환 조건 |
| **Buffer 프레임** | 최소 N 프레임 이상 연속 조건 만족 시 전환<br>- 기본값: `N = 3` | 안정성 향상 |
| **초기 방향 자동 설정** | 첫 프레임의 angle 기준으로 방향 자동 설정<br>- 기준: angle < 평균 → `down` | 초기화 |
| **보이는 다리 자동 판단** | `왼쪽 무릎.x < 오른쪽 무릎.x` → 'left' 판단 | 매 프레임 |

---

## ☑️ 실험 후 제거하거나 옵션화한 조건

| 조건명 | 설명 | 이유 |
|--------|------|------|
| `y_diff` (힙-무릎 y 좌표 차) | 앉는 정도 보조 판별용<br>`y_diff = 무릎.y - 힙.y` | 깊게 앉으면 y_diff 작아져 오탐 많음 |
| `is_down: angle + y_diff` | 앉을 때 두 조건 동시 만족 요구 | 너무 엄격해서 놓치는 경우 발생 |
| `is_up: angle + y_diff` | 설 때 y_diff < 0.025 조건 추가 | 서 있어도 y_diff 큰 경우 많음 |
| `hip y 위치 단독 사용` | 힙 y값으로 전체 높낮이 추정 | 정면·비스듬한 영상에서 안정성 낮음 |

---

## 🧠 추천 전략 구조 (2025-03 기준)

```python
# 핵심 조건
def is_down_condition(angle):
    return angle < 130

def is_up_condition(angle):
    return angle > 150

# 방향 전환은 각 조건 3프레임 이상 연속 만족 시